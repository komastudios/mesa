/*
 * Copyright Â© 2024 Valve Corporation
 *
 * SPDX-License-Identifier: MIT
 */

#ifndef ACO_NIR_CALL_ATTRIBS_H
#define ACO_NIR_CALL_ATTRIBS_H

enum aco_nir_call_abi {
   ACO_NIR_CALL_ABI_RT_RECURSIVE,
   ACO_NIR_CALL_ABI_TRAVERSAL,
   ACO_NIR_CALL_ABI_AHIT_ISEC,
};

enum aco_nir_function_attribs {
   ACO_NIR_FUNCTION_ATTRIB_ABI_MASK = 0x7F,
   /* Different lanes can have different values for the function pointer to call */
   ACO_NIR_FUNCTION_ATTRIB_DIVERGENT_CALL = 0x1 << 7,
   /* Function will never return */
   ACO_NIR_FUNCTION_ATTRIB_NORETURN = 0x2 << 7,
};

enum aco_nir_parameter_attribs {
   /* Parameter value is not used by any callee and does not need to be preserved */
   ACO_NIR_PARAM_ATTRIB_DISCARDABLE = 0x1,
};

enum aco_nir_raygen_function_arg {
   RAYGEN_ARG_LAUNCH_ID = 0,
   RAYGEN_ARG_LAUNCH_SIZE,
   RAYGEN_ARG_DESCRIPTORS,
   RAYGEN_ARG_PUSH_CONSTANTS,
   RAYGEN_ARG_SBT_DESCRIPTORS,
   RAYGEN_ARG_TRAVERSAL_ADDR,
   RAYGEN_ARG_SHADER_RECORD_PTR,
   RAYGEN_ARG_COUNT,
};

enum aco_nir_traversal_function_arg {
   TRAVERSAL_ARG_LAUNCH_ID = 0,
   TRAVERSAL_ARG_LAUNCH_SIZE,
   TRAVERSAL_ARG_DESCRIPTORS,
   TRAVERSAL_ARG_PUSH_CONSTANTS,
   TRAVERSAL_ARG_SBT_DESCRIPTORS,
   TRAVERSAL_ARG_TRAVERSAL_ADDR,
   TRAVERSAL_ARG_SHADER_RECORD_PTR,
   TRAVERSAL_ARG_ACCEL_STRUCT,
   TRAVERSAL_ARG_CULL_MASK_AND_FLAGS,
   TRAVERSAL_ARG_SBT_OFFSET,
   TRAVERSAL_ARG_SBT_STRIDE,
   TRAVERSAL_ARG_MISS_INDEX,
   TRAVERSAL_ARG_RAY_ORIGIN,
   TRAVERSAL_ARG_RAY_TMIN,
   TRAVERSAL_ARG_RAY_DIRECTION,
   TRAVERSAL_ARG_RAY_TMAX,
   TRAVERSAL_ARG_PRIMITIVE_ID,
   TRAVERSAL_ARG_INSTANCE_ADDR,
   TRAVERSAL_ARG_GEOMETRY_ID_AND_FLAGS,
   TRAVERSAL_ARG_HIT_KIND,
   TRAVERSAL_ARG_PAYLOAD_BASE,
};

enum aco_nir_chit_miss_function_arg {
   CHIT_MISS_ARG_LAUNCH_ID = 0,
   CHIT_MISS_ARG_LAUNCH_SIZE,
   CHIT_MISS_ARG_DESCRIPTORS,
   CHIT_MISS_ARG_PUSH_CONSTANTS,
   CHIT_MISS_ARG_SBT_DESCRIPTORS,
   CHIT_MISS_ARG_TRAVERSAL_ADDR,
   CHIT_MISS_ARG_SHADER_RECORD_PTR,
   CHIT_MISS_ARG_ACCEL_STRUCT,
   CHIT_MISS_ARG_CULL_MASK_AND_FLAGS,
   CHIT_MISS_ARG_SBT_OFFSET,
   CHIT_MISS_ARG_SBT_STRIDE,
   CHIT_MISS_ARG_MISS_INDEX,
   CHIT_MISS_ARG_RAY_ORIGIN,
   CHIT_MISS_ARG_RAY_TMIN,
   CHIT_MISS_ARG_RAY_DIRECTION,
   CHIT_MISS_ARG_RAY_TMAX,
   CHIT_MISS_ARG_PRIMITIVE_ID,
   CHIT_MISS_ARG_INSTANCE_ADDR,
   CHIT_MISS_ARG_GEOMETRY_ID_AND_FLAGS,
   CHIT_MISS_ARG_HIT_KIND,
   CHIT_MISS_ARG_PAYLOAD_BASE,
};

#endif /* ACO_NIR_CALL_ATTRIBS_H */
